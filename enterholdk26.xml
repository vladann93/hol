<If Condition="Me.MapId != 602 &amp;&amp; Me.FreeBagSlots &gt;= Settings.Instance.VendorMinBagSlots" >
	
	<If Condition="Me.ZoneId == 139" > <!-- Checks if we're a dk in ebon hold and spell is castable ENTERHOL -->
			<CustomBehavior File="RunCode" Code="NorthrendLog(Colors.LightGreen, &quot;We're a dk! Teleporting to hol ENTERHOL.&quot;);" />
			<CustomBehavior File="ForcedDismount" />
			<While Condition="!(HasArrivedNorthrend() || InPriorityLocationNorthrend())" >
				<CustomBehavior File="WaitTimer" WaitTime="55000" />
				<CustomBehavior File="Misc\RunLua" Lua="CastSpellByID(50977);"  WaitTime="1000"  />
				<CustomBehavior File="InteractWith" MobId="190942"  WaitTime="1000" CollectionDistance="11" />
				<CustomBehavior File="WaitTimer" WaitTime="50000" TerminateWhen="HasArrivedNorthrend() || CastingInterruptedKalimdor()" />
			</While>
		</If>
	
					
				
<Else>	<If Condition="Me.Location.Distance(new WoWPoint(9168.483, -1370.176, 1095.251)) &gt;= 30" >
	
	
		<CustomBehavior File="FlyTo" X="9186.587" Y="-1386.393" Z="1161.903"    />
 -
 -		<CustomBehavior File="RunMacro" Macro="/dismount" />
		
		
	
	
	
	
		
	</If>
	<RunTo X="9198.865" Y="-1378.876" Z="1110.217" />
	<CustomBehavior File="MyCTM" X="9190.415" Y="-1395.566" Z="1110.215" TerminateWhen="Me.MapId == 602" />
	<CustomBehavior File="WaitTimer" WaitTime="10000" TerminateWhen="Me.IsInInstance" />
</If>
</Else>
